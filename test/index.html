<html>
<head>
  <title>CGU - Tests</title>
</head>
<body>

<script src="../lib/CGU.js"></script>
<script type="text/javascript">
var pass = '<span style="color:#0a0;">PASS</span>';
var fail = '<span style="color:#f00;">FAIL</span>';

var write = function (passfail, comment) {
  if (passfail === !!passfail)
    document.writeln((passfail ? pass : fail), ' ', comment);
  else
    document.writeln();
};

var notate = function (title, comment, message) {
  return title + ': ' + comment + (message ? ' (' + message + ')' : '');
};

var cycle = function (tests) {
  var i, j, title, cases;
  for (i = 0; i < tests.length; i += 1) {
    title = tests[i].title;
    cases = tests[i].cases;
    
    write();
    
    for (j = 0; j < cases.length; j += 1) {
      try {
        write((cases[j][1] === cases[j][2]()), notate(title, cases[j][0]));
      } catch (e) {
        write(false, notate(title, cases[j][0], e.message));
      }
    }
  }
  
  write();
}
</script>

<script type="text/javascript">
var cycles = {};
</script>
<script src="cycles/exist.js"></script>
<script src="cycles/type.js"></script>
<script src="cycles/query.js"></script>
<script src="cycles/cookie.js"></script>
<script src="cycles/time.js"></script>
<script type="text/javascript">
(function () {
  for (var c in cycles) {
    document.write('<pre style="font-size:11px;">');
    
    document.writeln(c);
    cycle(cycles[c]);
    
    document.write('</pre>');
  };
})();
</script>

</body>
</html>
